# -*- coding: utf-8 -*-

"""Generate a customizations {{package}}"""

from __future__ import print_function
from resilient_circuits.util import *

import logging
LOG = logging.getLogger(__name__)


def customization_data():
    """Produce any customization definitions (types, fields, message destinations, etc)
       that should be installed by `resilient-circuits customize`
    """

    # Function-field definitions
    yield TypeDefinition(
        {
            "type_name": "__function",
            "fields": {{function_params|pretty}}
        }
    )
{%for dest_name in message_destinations.keys()%}
    # Message destination: {{dest_name}}
    yield MessageDestinationDefinition({{message_destinations[dest_name]|pretty}}
    )
{%endfor%}{%for function_name in functions.keys()%}
    # Function: {{function_name}}
    yield FunctionDefinition({{functions[function_name]|pretty}}
    )
{%endfor%}{%for workflow_name in workflows.keys()%}
    # Workflow: {{workflow_name}}
    yield WorkflowDefinition({{workflows[workflow_name]|pretty}}
    )
{%endfor%}

